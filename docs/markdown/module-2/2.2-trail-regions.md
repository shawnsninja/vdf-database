# 2.2 trail_regions

  
https://gemini.google.com/u/1/app/9ed6b32c76b55d3a?is_sa=1&android-min-version=3
01356232&ios-min-version=322.0&campaign_id=bkws&utm_source=google&utm_medium=cpc
&utm_campaign=2024enUS_gemfeb&pt=9008&mt=8&ct=p-growth-sem-bkws 
https://gemini.google.com/u/1/app/8d62cfd96b565ac8 
https://gemini.google.com/u/1/app/2d30425fc8a5984a * * * * * ### Updated 
Production-Ready Specification Table Name: `public.trail_regions` 1\. Purpose & 
Primary Use-Cases This table links trails to the geographical regions they 
traverse, defining the sequence of regions for a trail. It allows for 
region-specific details such as significance notes, operational status updates 
for the trail within that region, and flags for entry/exit points, thus 
providing contextual geographical information essential for pilgrims and 
content managers. Key User-Story Touchpoints: - Pilgrim (Anna) - Story A2 
(Daily Stage Understanding): Helps contextualize which region a particular part 
of the trail falls into. - Pilgrim (Anna) - Story A5 (Checking Trail 
Conditions): `regional_trail_status` provides crucial, localized updates that 
can override the general trail status for a specific region. - Regional Content 
Manager (Sofia) - Story C1 & C2: Allows Sofia to update `regional_trail_status` 
and `regional_significance_notes` for regions she manages, and forms part of 
the basis for determining her scope of responsibility. - Platform Administrator 
(Admin Team) - Story D1: Admins manage these trail-to-region links and their 
attributes. 2\. Schema | Column Name | Data Type | Constraints | Description 
(Translatable fields marked) | | `id` | `bigint` | PRIMARY KEY, GENERATED 
ALWAYS AS IDENTITY | Surrogate unique identifier for this trail-region link 
record, simplifying linking from other tables (e.g., `translations`). | | 
`trail_id` | `bigint` | NOT NULL, REFERENCES `public.trails(id)` ON DELETE 
CASCADE | The ID of the trail this entry pertains to. | | `region_id` | 
`bigint` | NOT NULL, REFERENCES `public.regions(id)` ON DELETE CASCADE | The ID 
of the region this trail passes through. | | `display_order` | `integer` | NOT 
NULL, CHECK (`display_order` > 0) | The sequential, 1-based order in which the 
trail passes through this region. | | `regional_significance_notes` | `text` | 
| Describes the unique character or significance of this trail within this 
region (English base). (Translatable via `public.translations` using 
`trail_regions.id`) | | `is_entry_point_region` | `boolean` | NOT NULL DEFAULT 
`false` | Flags if this region contains a common or official starting point for 
this trail. | | `is_exit_point_region` | `boolean` | NOT NULL DEFAULT `false` | 
Flags if this region contains a common or official ending point for this trail. 
| | `is_primary_focus_region` | `boolean` | NOT NULL DEFAULT `false` | Flags if 
this region is a central, most significant part of this trail's experience. | | 
`estimated_coverage_percentage` | `real` | CHECK 
(`estimated_coverage_percentage` IS NULL OR (`estimated_coverage_percentage` >= 
0 AND `estimated_coverage_percentage` &lt;= 100)) | Approximate percentage 
(0-100) of the trail's total length within this region. | | 
`regional_trail_status` | `public.trail_operational_status_enum` | | Specific 
operational status of the trail within this region; can override 
`trails.operational_status`. | | `regional_status_last_checked` | `timestamptz` 
| | Timestamp when `regional_trail_status` or notes were last verified/updated. 
| | `regional_status_updated_by_profile_id` | `uuid` | REFERENCES 
`public.profiles(id)` ON DELETE SET NULL | Profile ID of user who last updated 
regional status/notes. | | `created_at` | `timestamptz` | NOT NULL DEFAULT 
`now()` | Timestamp of record creation. | | `created_by_profile_id` | `uuid` | 
REFERENCES `public.profiles(id)` ON DELETE SET NULL | Profile ID of the user 
who created this link. | | `updated_at` | `timestamptz` | NOT NULL DEFAULT 
`now()` | Timestamp of last update (auto-updated by trigger). | | 
`updated_by_profile_id` | `uuid` | REFERENCES `public.profiles(id)` ON DELETE 
SET NULL | Profile ID of user who last made any update to this record. | | | | 
UNIQUE (`trail_id`, `region_id`) | Ensures a trail-region pair is unique. | | | 
| UNIQUE (`trail_id`, `display_order`) | Ensures `display_order` is unique for 
each trail. | 3\. PostgreSQL DDL SQL ``` -- Assumes 'public.trails' (BIGINT 
PK), 'public.regions' (BIGINT PK), -- 'public.profiles' (UUID PK) tables exist. 
-- Assumes 'public.trail_operational_status_enum' is created. CREATE TABLE 
public.trail_regions ( id BIGINT GENERATED ALWAYS AS IDENTITY PRIMARY KEY, -- 
[cite: 9, 10] trail_id BIGINT NOT NULL REFERENCES public.trails(id) ON DELETE 
CASCADE, -- [cite: 11] region_id BIGINT NOT NULL REFERENCES public.regions(id) 
ON DELETE CASCADE, -- [cite: 12] display_order INTEGER NOT NULL CHECK 
(display_order > 0), -- [cite: 14] regional_significance_notes TEXT, -- [cite: 
15] is_entry_point_region BOOLEAN NOT NULL DEFAULT FALSE, -- [cite: 16] 
is_exit_point_region BOOLEAN NOT NULL DEFAULT FALSE, -- [cite: 17] 
is_primary_focus_region BOOLEAN NOT NULL DEFAULT FALSE, -- [cite: 19] 
estimated_coverage_percentage REAL CHECK (estimated_coverage_percentage IS NULL 
OR (estimated_coverage_percentage >= 0 AND estimated_coverage_percentage <= 
100)), -- [cite: 21, 22] regional_trail_status 
public.trail_operational_status_enum, -- [cite: 23] 
regional_status_last_checked TIMESTAMPTZ, -- [cite: 24] 
regional_status_updated_by_profile_id UUID REFERENCES public.profiles(id) ON 
DELETE SET NULL, -- [cite: 25] created_at TIMESTAMPTZ NOT NULL DEFAULT now(), 
-- [cite: 27] created_by_profile_id UUID REFERENCES public.profiles(id) ON 
DELETE SET NULL, -- [cite: 28] updated_at TIMESTAMPTZ NOT NULL DEFAULT now(), 
-- [cite: 30] updated_by_profile_id UUID REFERENCES public.profiles(id) ON 
DELETE SET NULL, -- [cite: 31] UNIQUE (trail_id, region_id), -- [cite: 33] 
UNIQUE (trail_id, display_order) -- [cite: 34] ); -- Indexes CREATE INDEX IF 
NOT EXISTS idx_trail_regions_trail_id ON public.trail_regions(trail_id); -- 
[cite: 39] CREATE INDEX IF NOT EXISTS idx_trail_regions_region_id ON 
public.trail_regions(region_id); -- [cite: 39] CREATE INDEX IF NOT EXISTS 
idx_trail_regions_regional_trail_status ON 
public.trail_regions(regional_trail_status); -- [cite: 40] -- Trigger for audit 
columns CREATE OR REPLACE FUNCTION public.set_trail_region_modification_meta() 
RETURNS TRIGGER AS $$ BEGIN NEW.updated_at = NOW(); -- [cite: 41] 
NEW.updated_by_profile_id = auth.uid(); -- General updater for any change to 
the row [cite: 41] IF (TG_OP = 'INSERT') THEN NEW.created_by_profile_id = 
auth.uid(); -- [cite: 42] IF NEW.regional_trail_status IS NOT NULL OR 
NEW.regional_significance_notes IS NOT NULL THEN 
NEW.regional_status_updated_by_profile_id = auth.uid(); -- [cite: 42] 
NEW.regional_status_last_checked = NOW(); -- [cite: 43] END IF; ELSIF (TG_OP = 
'UPDATE') THEN NEW.created_at = OLD.created_at; -- [cite: 44] 
NEW.created_by_profile_id = OLD.created_by_profile_id; -- [cite: 45] IF 
(NEW.regional_trail_status IS DISTINCT FROM OLD.regional_trail_status) OR 
(NEW.regional_significance_notes IS DISTINCT FROM 
OLD.regional_significance_notes) THEN NEW.regional_status_updated_by_profile_id 
= auth.uid(); -- [cite: 46] NEW.regional_status_last_checked = NOW(); -- [cite: 
46] ELSIF NEW.regional_status_last_checked IS DISTINCT FROM 
OLD.regional_status_last_checked THEN NEW.regional_status_updated_by_profile_id 
= auth.uid(); -- [cite: 47] ELSE NEW.regional_status_updated_by_profile_id = 
OLD.regional_status_updated_by_profile_id; -- [cite: 48] 
NEW.regional_status_last_checked = OLD.regional_status_last_checked; -- [cite: 
48] END IF; END IF; RETURN NEW; END; $$ LANGUAGE plpgsql SECURITY DEFINER; -- 
[cite: 49] CREATE TRIGGER trigger_trail_regions_modification_meta BEFORE INSERT 
OR UPDATE ON public.trail_regions FOR EACH ROW EXECUTE FUNCTION 
public.set_trail_region_modification_meta(); -- [cite: 50] -- Comments COMMENT 
ON TABLE public.trail_regions IS 'Links trails to the geographical regions they 
traverse, defining sequence and region-specific trail attributes like status 
and significance notes. Version: V2.'; -- [cite: 50] COMMENT ON COLUMN 
public.trail_regions.id IS 'Surrogate unique identifier for the trail-region 
link. Version: V2.'; -- [cite: 51] COMMENT ON COLUMN 
public.trail_regions.trail_id IS 'Foreign key to the public.trails table. 
Version: V2.'; -- [cite: 52] COMMENT ON COLUMN public.trail_regions.region_id 
IS 'Foreign key to the public.regions table. Version: V2.'; -- [cite: 53] 
COMMENT ON COLUMN public.trail_regions.display_order IS 'The sequential, 
1-based order in which the trail passes through this region. Defines the 
regional progression of the trail. Version: V2.'; -- [cite: 54, 55] COMMENT ON 
COLUMN public.trail_regions.regional_significance_notes IS 'Describes the 
unique character, cultural significance, or specific pilgrim advice for this 
trail within this particular region (English base, translatable using 
trail_regions.id). Version: V2.'; -- [cite: 15, 56] COMMENT ON COLUMN 
public.trail_regions.regional_trail_status IS 'Specific operational status of 
the trail section within this region. Can override the general 
trails.operational_status if more granular information is available. Version: 
V2.'; -- [cite: 23, 57] COMMENT ON COLUMN 
public.trail_regions.regional_status_last_checked IS 'Timestamp indicating when 
the regional_trail_status or regional_significance_notes were last actively 
verified or updated by a content manager. Version: V2.'; -- [cite: 24, 58] 
COMMENT ON COLUMN public.trail_regions.regional_status_updated_by_profile_id IS 
'Profile ID of the user who last made a substantive update to 
regional_trail_status or regional_significance_notes for this entry. Version: 
V2.'; -- [cite: 25, 59] COMMENT ON COLUMN public.trail_regions.created_at IS 
'Timestamp of when this trail-region link record was initially created. 
Version: V2.'; COMMENT ON COLUMN public.trail_regions.created_by_profile_id IS 
'Profile ID of the user who initially created this trail-region link. Version: 
V2.'; COMMENT ON COLUMN public.trail_regions.updated_at IS 'Timestamp 
indicating when this record was last updated (auto-updated by trigger for any 
change). Version: V2.'; COMMENT ON COLUMN 
public.trail_regions.updated_by_profile_id IS 'Profile ID of the user who 
performed the most recent update on any field in this record. Version: V2.'; -- 
[cite: 31, 60] ``` 4\. JSON Schema Mirror JSON ``` { "title": 
"trail_region_link", "description": "Defines the many-to-many relationship 
between a trail and a region it traverses, including specific contextual 
information and status for that intersection. Uses a surrogate PK for easier 
linking. Version: V2.", "type": "object", "properties": { "id": { "type": 
"integer", "format": "int64", "description": "Surrogate unique identifier for 
this trail-region link record. Read-only.", -- [cite: 9, 10] "readOnly": true 
}, "trail_id": { "type": "integer", "format": "int64", "description": "Foreign 
key referencing the ID of the trail (public.trails.id)." -- [cite: 11, 62, 63] 
}, "region_id": { "type": "integer", "format": "int64", "description": "Foreign 
key referencing the ID of the region (public.regions.id)." -- [cite: 12, 64] }, 
"display_order": { "type": "integer", "minimum": 1, "description": "The 
sequential, 1-based order in which the trail passes through this region." -- 
[cite: 14, 65] }, "regional_significance_notes": { "type": ["string", "null"], 
"description": "Notes on the trail's character or significance within this 
specific region (English base, translatable using trail_regions.id)." -- [cite: 
15, 66] }, "is_entry_point_region": { "type": "boolean", "default": false, 
"description": "Flags if this region contains a common or official starting 
point for the trail." -- [cite: 16, 67] }, "is_exit_point_region": { "type": 
"boolean", "default": false, "description": "Flags if this region contains a 
common or official ending point for the trail." -- [cite: 17, 68] }, 
"is_primary_focus_region": { "type": "boolean", "default": false, 
"description": "Flags if this region is a central or most significant part of 
the trail's experience." -- [cite: 19, 69] }, "estimated_coverage_percentage": 
{ "type": ["number", "null"], "format": "float", "minimum": 0, "maximum": 100, 
"description": "Approximate percentage (0-100) of the trail's total length that 
falls within this region." -- [cite: 21, 70] }, "regional_trail_status": { 
"type": ["string", "null"], "enum": [ "fully_operational", 
"partially_closed_detours_in_place", "seasonal_access_only", 
"under_development", "closed", "information_unavailable", null ], 
"description": "Specific operational status of the trail within this region. 
Can override trails.operational_status." -- [cite: 23, 71] }, 
"regional_status_last_checked": { "type": ["string", "null"], "format": 
"date-time", "description": "Timestamp when regional_trail_status or notes were 
last actively verified/updated by a manager." -- [cite: 24, 72] }, 
"regional_status_updated_by_profile_id": { "type": ["string", "null"], 
"format": "uuid", "description": "Profile ID (public.profiles.id) of the user 
who last made a substantive update to regional_trail_status or 
regional_significance_notes." -- [cite: 25, 73] }, "created_at": { "type": 
"string", "format": "date-time", "description": "Timestamp of record creation. 
Read-only.", -- [cite: 27] "readOnly": true }, "created_by_profile_id": { 
"type": ["string", "null"], "format": "uuid", "description": "Profile ID 
(public.profiles.id) of the user who created this trail-region link. 
Read-only.", -- [cite: 28] "readOnly": true }, "updated_at": { "type": 
"string", "format": "date-time", "description": "Timestamp of last update for 
any field in this record. Read-only.", -- [cite: 30, 74] "readOnly": true }, 
"updated_by_profile_id": { "type": ["string", "null"], "format": "uuid", 
"description": "Profile ID (public.profiles.id) of the user who last made any 
update to this link record. Read-only.", -- [cite: 31] "readOnly": true } }, 
"required": [ "trail_id", "region_id", "display_order", -- [cite: 75] 
"is_entry_point_region", "is_exit_point_region", "is_primary_focus_region", 
"created_at", "updated_at" ], "primary_key": ["id"], -- [cite: 75] 
"unique_constraints": [ {"columns": ["trail_id", "region_id"], "name": 
"trail_regions_trail_id_region_id_key"}, -- [cite: 75] {"columns": ["trail_id", 
"display_order"], "name": "trail_regions_trail_id_display_order_key"} -- [cite: 
75] ] } ``` 5\. Relationships & Integrity - Primary Key: Surrogate `id BIGINT 
GENERATED ALWAYS AS IDENTITY` is used for easier direct linking, particularly 
from the `public.translations` table. - Unique Constraints: - `UNIQUE 
(trail_id, region_id)`: Ensures a trail cannot be linked to the same region 
multiple times. - `UNIQUE (trail_id, display_order)`: Ensures the sequence of 
regions for a given trail is unambiguous. - Foreign Key Targets & `ON DELETE` 
Actions: - `trail_id` references `public.trails(id)`: `ON DELETE CASCADE`. If a 
trail is deleted, its associations with regions are also deleted. - `region_id` 
references `public.regions(id)`: `ON DELETE CASCADE`. If a region is deleted, 
its associations with trails are also deleted. - 
`regional_status_updated_by_profile_id`, `created_by_profile_id`, 
`updated_by_profile_id` reference `public.profiles(id)`: `ON DELETE SET NULL`. 
- Mermaid ER Diagram Snippet: Code snippet ``` erDiagram trails { bigint id PK 
text name } regions { bigint id PK text name } profiles { uuid id PK text email 
} trail_regions { bigint id PK -- [cite: 9] bigint trail_id FK -- [cite: 11] 
bigint region_id FK -- [cite: 12] integer display_order -- [cite: 14] text 
regional_significance_notes -- [cite: 15] trail_operational_status_enum 
regional_trail_status -- [cite: 23] timestamptz regional_status_last_checked -- 
[cite: 24] uuid regional_status_updated_by_profile_id FK -- [cite: 25] 
timestamptz created_at -- [cite: 27] uuid created_by_profile_id FK -- [cite: 
28] timestamptz updated_at -- [cite: 30] uuid updated_by_profile_id FK -- 
[cite: 31] -- UNIQUE (trail_id, region_id) [cite: 33] -- UNIQUE (trail_id, 
display_order) [cite: 34] } translations { -- For context bigint id PK text 
table_name text column_name bigint row_id FK -- References trail_regions.id 
text language_code text translated_text } trails ||--|{ trail_regions : 
"traverses" -- [cite: 80] regions ||--|{ trail_regions : "is_traversed_by" -- 
[cite: 81] trail_regions }o--|| profiles : "regional_status_updated_by" -- 
[cite: 82, 88] trail_regions }o--|| profiles : "created_by" -- [cite: 82, 89] 
trail_regions }o--|| profiles : "updated_by" -- [cite: 82, 90] trail_regions 
||..o| translations : "has_translation_for_notes (via id)" -- [cite: 91] ``` 
6\. Multilingual Strategy - Translatable Field: `regional_significance_notes`. 
The English base text is stored in this table. - Linking Mechanism: 
Translations are managed in the central `public.translations` table. With the 
surrogate `id` PK on `trail_regions`, linking is: `translations.table_name = 
'trail_regions'`, `translations.column_name = 'regional_significance_notes'`, 
`translations.row_id = trail_regions.id`. 7\. Role-Based Workflow & RLS Notes - 
Workflow Fields: Includes standard audit columns (`created_at`, 
`created_by_profile_id`, `updated_at`, `updated_by_profile_id`) and specific 
fields for regional status management (`regional_trail_status`, 
`regional_significance_notes`, `regional_status_last_checked`, 
`regional_status_updated_by_profile_id`). The audit trigger 
`set_trail_region_modification_meta` handles these. - Note: The RLS policies 
outlined above rely on the existence and correct implementation of global RLS 
helper functions (e.g., public.has_role(TEXT) , public.is_platform_admin() , 
specific regional/trail management checks) that authenticate users and verify 
their roles stored in the public.profiles table." This reinforces that the 
table-specific RLS is part of a larger auth system. - Row-Level Security (RLS) 
Policies (Conceptual Stubs): - Public Read Access: SQL ``` CREATE POLICY "Allow 
public read access to trail_regions" ON public.trail_regions FOR SELECT USING ( 
EXISTS ( SELECT 1 FROM public.trails t WHERE t.id = trail_regions.trail_id AND 
t.content_visibility_status = 'published' -- Assuming 'published' status AND 
t.deleted_at IS NULL ) ); -- [cite: 98] ``` - Admin Full Access: SQL ``` CREATE 
POLICY "Allow admin full access on trail_regions" ON public.trail_regions FOR 
ALL USING (public.is_platform_admin()) -- Assumes helper function WITH CHECK 
(public.is_platform_admin()); -- [cite: 100] ``` - Regional Content Manager 
Access (Update): SQL ``` CREATE POLICY "Allow regional managers to update their 
trail_regions" ON public.trail_regions FOR UPDATE USING 
(public.is_regional_manager_for_region(trail_regions.region_id)) -- Assumes 
helper function WITH CHECK 
(public.is_regional_manager_for_region(trail_regions.region_id)); -- [cite: 
101] ``` - Authorized User Access (Insert/Delete): SQL ``` CREATE POLICY "Allow 
authorized users to insert trail_regions" ON public.trail_regions FOR INSERT 
WITH CHECK (public.is_platform_admin() OR 
public.can_manage_trail_structure(trail_regions.trail_id)); -- Assumes helper 
functions [cite: 103] CREATE POLICY "Allow authorized users to delete 
trail_regions" ON public.trail_regions FOR DELETE USING 
(public.is_platform_admin() OR 
public.can_manage_trail_structure(trail_regions.trail_id)); -- Assumes helper 
functions [cite: 104] ``` 8\. ENUM vs. Lookup Discussion - 
`regional_trail_status` correctly reuses `public.trail_operational_status_enum` 
from `trails` for consistency. 9\. UI/UX Enablement - `display_order` is 
crucial for correctly sequencing regions. - `regional_trail_status` can drive 
UI indicators (e.g., warning icons). - Boolean flags (`is_entry_point_region`, 
etc.) can visually emphasize regions. - `regional_significance_notes` provides 
context-specific information. - `estimated_coverage_percentage` gives a sense 
of trail distribution. - `regional_status_last_checked` indicates data 
freshness. 10\. Key Considerations & Definitions - Surrogate PK: The `id` 
column simplifies linking for translations. - `display_order` Integrity: Must 
be a positive, unique integer per `trail_id` to define the trail's regional 
path. - Status Hierarchy: `regional_trail_status` can override the general 
`trails.operational_status`. - Data Governance: Audit fields, especially 
`regional_status_last_checked` and `regional_status_updated_by_profile_id`, 
track the currency and authorship of regional status updates. 11\. Scalability 
& Future-Proofing - `ON DELETE CASCADE` simplifies data management. - 
Comprehensive audit columns support long-term maintenance. - No soft deletes 
are needed as lifecycle is tied to parents. - `BIGINT` FKs allow for growth. - 
Future Enhancement: Full-Text Search (FTS) on `regional_significance_notes` 
could be considered as a future (Post-V2) enhancement if these notes become 
extensive and require advanced search capabilities, aligning with the project 
overview's future considerations. 12\. Next-Action Checklist 1\. ğŸ”´ Implement 
DDL: Create/Update the `public.trail_regions` table using the provided DDL. 
Ensure the surrogate `id` PK, `UNIQUE` constraints, all FKs with correct `ON 
DELETE` actions, audit/workflow columns, and the 
`set_trail_region_modification_meta` trigger are correctly defined and 
attached. 2\. ğŸ”´ Implement Orphaned Translation Cleanup Trigger: Add an `AFTER 
DELETE` trigger on `public.trail_regions` that calls 
`public.cleanup_related_translations('trail_regions', OLD.id)` to remove 
orphaned translations for `regional_significance_notes` when a `trail_regions` 
record is deleted. 3\. ğŸŸ  Confirm Referenced Table PK Data Types: Verify that 
`public.regions.id` and `public.trails.id` primary keys are `BIGINT`. Adjust FK 
definitions in `trail_regions` if necessary. 4\. ğŸŸ  Integrate with 
`public.translations` Table: Ensure the `public.translations` table can 
effectively link to `trail_regions` using `trail_regions.id` as `row_id` for 
the `regional_significance_notes` field. 5\. ğŸŸ  Implement RLS Policies & Helper 
Functions: Define, implement, and thoroughly test the RLS policies. This 
includes creating helper functions like `public.is_platform_admin()`, 
`public.is_regional_manager_for_region(BIGINT)`, and 
`public.can_manage_trail_structure(BIGINT)`. 6\. ğŸŸ¢ Data Migration (if 
applicable): If migrating from an older structure, plan for the addition of the 
surrogate `id`. Populate new audit columns for existing rows as feasible. * * * 
* * ### Diff Summary - Schema/DDL: - Confirmed use of surrogate `id BIGINT 
PRIMARY KEY` as per the original document's reconstruction. - Standardized 
comments with "Version: V2." and ensured full schema paths (e.g., 
`public.trails(id)`). - Verified `ON DELETE CASCADE` for `trail_id` and 
`region_id` FKs. - Ensured audit trigger `set_trail_region_modification_meta` 
logic is sound and includes setting `updated_by_profile_id` on all operations 
and specific logic for `regional_status_updated_by_profile_id` and 
`regional_status_last_checked`. - JSON Schema Mirror: - Updated descriptions to 
include "Version: V2." and reference full table paths for FKs. - Marked 
`readOnly` for auto-generated/audit fields. - Added `is_entry_point_region`, 
`is_exit_point_region`, `is_primary_focus_region`, `created_at`, `updated_at` 
to the `required` array based on `NOT NULL` constraints with defaults. - 
Multilingual Strategy: - Clarified that `regional_significance_notes` is the 
translatable field and the linking uses the new surrogate `id`. - RLS Policies: 
- Provided more explicit SQL stubs, referencing necessary helper functions. - 
Scalability & Future-Proofing: - Added a note about considering Full-Text 
Search (FTS) for `regional_significance_notes` as a future enhancement. - 
Next-Action Checklist: - ğŸ”´ Added the critical action: "Implement Orphaned 
Translation Cleanup Trigger." - Added severity icons (ğŸ”´ğŸŸ ğŸŸ¢) to checklist 
items. - Emphasized creation and testing of RLS helper functions. 
